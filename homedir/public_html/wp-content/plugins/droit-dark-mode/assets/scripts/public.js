"use strict";!function(){let r=document.querySelector("html");var n={init:function(){n.drdtSwitchButton(),n.drdtBackgroundDisable(),n.hardCodeExl(),n.drdtHandleExcludes(),n.drdtHandleIncludes(),window.addEventListener("DroitDarkModeInit",n.checkDarkMode),n.drdtImageReplace()},drdtBackgroundDisable:function(){document.querySelectorAll("header, footer, div, section").forEach(function(t){var e,d;t&&(e=window.getComputedStyle(t,!1).backgroundImage,d=t.getAttribute("data-jarallax-original-styles"),"none"===e&&!d||(t.classList.add("drdt-ignore-dark"),t.querySelectorAll("*").forEach(function(t){return t.classList.add("drdt-ignore-dark")})))})},drdtSwitchButton:function(){var d=document.querySelectorAll(".dark_switch_box");if(d)for(let e=0;e<d.length;e++){let t=d[e];t&&("yes"==dtdr_settings.mode&&"yes"==dtdr_settings.default&&t.classList.toggle("active"),t.addEventListener("click",function(t){r.classList.toggle("drdt-dark-mode"),r.classList.toggle(dtdr_settings.colorset),this.classList.toggle("active"),o("drdt_dark_public","yes"==s("drdt_dark_public")?"no":"yes",365),n.drdtImageReplace()}))}},DrdtcheckOsMode:function(){if("yes"==dtdr_settings.mode){var e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",function(t){"dark"==(t.matches?"dark":"light")?document.querySelector("html").classList.add("drdt-dark-mode"):document.querySelector("html").classList.remove("drdt-dark-mode"),window.dispatchEvent(new Event("DroitDarkModeInit"))})}catch(t){try{e.addListener(function(t){"dark"==(t.matches?"dark":"light")?document.querySelector("html").classList.add("drdt-dark-mode"):document.querySelector("html").classList.remove("drdt-dark-mode"),window.dispatchEvent(new Event("DroitDarkModeInit"))})}catch(e){console.error(e)}}window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.querySelector("html").classList.add("drdt-dark-mode"),window.dispatchEvent(new Event("DroitDarkModeInit")))}},checkDarkMode:function(){r.classList.toggle("drdt-dark-mode"),r.classList.toggle(dtdr_settings.colorset),this.classList.toggle("active"),o("drdt_dark_public","yes"==s("drdt_dark_public")?"no":"yes",365),n.drdtImageReplace()},drdtHandleExcludes:function(){""!=dtdr_settings.excludes&&document.querySelectorAll(dtdr_settings.excludes).forEach(function(t){t&&(t.classList.add("drdt-ignore-dark"),t.querySelectorAll("*").forEach(function(t){t.classList.add("drdt-ignore-dark")}))})},drdtHandleIncludes:function(){""!=dtdr_settings.includes&&document.querySelectorAll(dtdr_settings.includes).forEach(function(t){t&&(t.classList.remove("drdt-ignore-dark"),t.querySelectorAll("*").forEach(function(t){t.classList.remove("drdt-ignore-dark")}))})},drdtImageReplace:function(){var t=JSON.parse(dtdr_settings.replace),n=s("drdt_dark_public");0<t.length&&t.forEach(function(t){var e,d,r=t.normal||"",t=t.dark||"";""===(e="yes"==n?(d=r,t):(d=t,r))||(d=document.querySelectorAll('img[src="'+d+'"]'))&&d.forEach(function(t){t.setAttribute("src",e),t.setAttribute("srcset",e)})})},hardCodeExl:function(){var t=document.querySelectorAll(".drdt-ignore-dark");t&&t.forEach(function(t){t&&t.querySelectorAll(":not(.drdt-ignore-dark)").forEach(function(t){t.classList.add("drdt-ignore-dark")})})}};function o(t,e,d){var r=new Date;r.setTime(r.getTime()+24*d*60*60*1e3);r="expires="+r.toUTCString();document.cookie=t+"="+e+";"+r+";path=/"}function s(t){for(var e=t+"=",d=document.cookie.split(";"),r=0;r<d.length;r++){for(var n=d[r];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}r&&"yes"==dtdr_settings.mode&&"yes"==dtdr_settings.default&&(r.classList.add("drdt-dark-mode"),r.classList.add(dtdr_settings.colorset),o("drdt_dark_public","yes",365),n.drdtImageReplace()),"yes"==dtdr_settings.mode&&"remove"==dtdr_settings.default&&o("drdt_dark_public","no",365),document.addEventListener("DOMContentLoaded",n.init)}(jQuery);